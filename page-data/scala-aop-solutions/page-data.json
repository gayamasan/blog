{"componentChunkName":"component---src-templates-blog-post-js","path":"/scala-aop-solutions/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"9ba803c9-ee54-56ef-a297-2524d1ce7309","excerpt":"AOP（Aspect-Oriented Programming） AOP（Aspect-Oriented Programming）とは、横断的関心事（cross-cutting concerns…","html":"<h2>AOP（Aspect-Oriented Programming）</h2>\n<blockquote>\n<p>AOP（Aspect-Oriented Programming）とは、横断的関心事（cross-cutting concerns）をコードから分離し、コードの再利用性や可読性、保守性を向上させるプログラミングパラダイムの一つです。\n横断的関心事とは、複数のモジュールやクラスにまたがる機能や処理のことで、例えばログ出力、認証、トランザクション管理などがあります。<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup></p>\n</blockquote>\n<p>簡単に言うと、以下のような例において、println(\"before\") と println(\"after\")を分離することです。</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">def</span> run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Unit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  println<span class=\"token punctuation\">(</span><span class=\"token string\">\"before\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// do something</span>\n  println<span class=\"token punctuation\">(</span><span class=\"token string\">\"after\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>遅延評価を使って AOP を実現する</h2>\n<p>Scala で遅延評価をする方法は <code class=\"language-text\">lazy</code> を使う方法と名前渡しパラメータ<sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>を使う方法がありますが、ここでは後者を使います。</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token comment\">//（例）</span>\n<span class=\"token keyword\">def</span> withLogging<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>f<span class=\"token operator\">:</span> <span class=\"token keyword\">=></span> T<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  println<span class=\"token punctuation\">(</span><span class=\"token string\">\"before\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> f\n  println<span class=\"token punctuation\">(</span><span class=\"token string\">\"after\"</span><span class=\"token punctuation\">)</span>\n  result\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">def</span> run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Unit</span> <span class=\"token operator\">=</span> withLogging <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// do something</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>この例では、ログ出力の横断的関心事が <code class=\"language-text\">withLogging</code> に分離されました。これにより、ビジネスロジックと横断的関心事が分離され、コードの可読性と保守性が向上します。</p>\n<h2>脚注</h2>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">ChatGPT より<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-2\"><a href=\"https://docs.scala-lang.org/tour/by-name-parameters.html\">https://docs.scala-lang.org/tour/by-name-parameters.html</a><a href=\"#fnref-2\" class=\"footnote-backref\">↩</a></li>\n</ol>\n</div>","frontmatter":{"title":"Scalaで実現するAOP：遅延評価を使った横断的関心事の分離","date":"April 14, 2023","description":"アスペクト指向プログラミング（AOP）は、コードの再利用性、可読性、保守性を向上させるためのパラダイムです。本記事では、Scalaを用いてAOPを実現し、横断的関心事を効果的に管理する方法を解説します。","tags":["Scala"]}},"previous":{"fields":{"slug":"/scala-tuning/"},"frontmatter":{"title":"Scala開発者のための性能チューニングテクニック"}},"next":null},"pageContext":{"id":"9ba803c9-ee54-56ef-a297-2524d1ce7309","previousPostId":"7b9dfea1-1d90-53f4-9b15-d1062b0fdcfa","nextPostId":null}},"staticQueryHashes":["3000541721","3274528899"],"slicesMap":{}}